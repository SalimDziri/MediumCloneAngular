"use strict";(self.webpackChunkmediumclone_angular=self.webpackChunkmediumclone_angular||[]).push([[766],{1766:(U,p,n)=>{n.r(p),n.d(p,{NewArticleModule:()=>M});var c=n(9808),d=n(9291),l=n(3075),v=n(991),m=n(1159),t=n(5e3),C=n(7251),A=n(5620),f=n(7093),h=n(7322),x=n(7531),s=n(6688),N=n(5245),T=n(7423);function y(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"mat-chip",13),t.NdJ("removed",function(){const u=t.CHM(o).$implicit;return t.oxw(2).removeTag(u)}),t._uU(1),t.TgZ(2,"button",14)(3,"mat-icon"),t._uU(4,"cancel"),t.qZA()()()}if(2&e){const o=r.$implicit;t.xp6(1),t.hij(" ",o," ")}}function Z(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"button",15),t.NdJ("click",function(){return t.CHM(o),t.oxw(2).create()}),t._uU(1,"Create Article"),t.qZA()}2&e&&t.Q6J("color","accent")}function w(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"button",15),t.NdJ("click",function(){return t.CHM(o),t.oxw(2).update()}),t._uU(1,"Update Article"),t.qZA()}2&e&&t.Q6J("color","accent")}function I(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"div",1)(1,"form",2)(2,"mat-form-field",3)(3,"mat-label"),t._uU(4,"what's this article title?"),t.qZA(),t._UZ(5,"input",4),t.qZA(),t.TgZ(6,"mat-form-field",3)(7,"mat-label"),t._uU(8,"what's this article about?"),t.qZA(),t._UZ(9,"input",5),t.qZA(),t.TgZ(10,"mat-form-field",3)(11,"mat-label"),t._uU(12,"What's this article's content?"),t.qZA(),t._UZ(13,"textarea",6),t.qZA(),t.TgZ(14,"mat-form-field",3)(15,"mat-label"),t._uU(16,"Tag List"),t.qZA(),t.TgZ(17,"mat-chip-list",7,8),t.YNc(19,y,5,1,"mat-chip",9),t.TgZ(20,"input",10),t.NdJ("matChipInputTokenEnd",function(a){return t.CHM(o),t.oxw().addTag(a)}),t.qZA()()(),t.TgZ(21,"div",11),t.YNc(22,Z,2,1,"button",12),t.YNc(23,w,2,1,"button",12),t.qZA()()()}if(2&e){const o=t.MAs(18),i=t.oxw();t.xp6(1),t.Q6J("formGroup",i.addArticleForm),t.xp6(18),t.Q6J("ngForOf",i.tagList),t.xp6(1),t.Q6J("matChipInputFor",o)("matChipInputSeparatorKeyCodes",i.separatorKeysCodes)("matChipInputAddOnBlur",!0),t.xp6(2),t.Q6J("ngIf","new"==i.operation),t.xp6(1),t.Q6J("ngIf","update"==i.operation)}}let g=(()=>{class e{constructor(o,i,a,u){this.formBuilder=o,this.articleService=i,this.store=a,this.router=u,this.loggedUser$=this.store.select(v.rk),this.operation="update",this.separatorKeysCodes=[m.K5,m.OC,m.L_],this.tagList=[]}ngOnInit(){this.initForm(),this.selectOperation(this.getSlug())}initForm(o){(null==o?void 0:o.tagList)&&(this.tagList=o.tagList),this.titleCtrl=this.formBuilder.control(null==o?void 0:o.title,l.kI.required),this.descriptionCtrl=this.formBuilder.control(null==o?void 0:o.description,l.kI.required),this.bodyCtrl=this.formBuilder.control(null==o?void 0:o.body,l.kI.required),this.tagsCtrl=this.formBuilder.control(this.tagList),this.addArticleForm=this.formBuilder.group({title:this.titleCtrl,description:this.descriptionCtrl,body:this.bodyCtrl,tags:this.tagsCtrl})}getSlug(){let i=this.router.url.slice(12);return decodeURIComponent(i)}selectOperation(o){this.operation=""==o?"new":"update"}create(){this.addArticleForm.valid&&console.log("created a new article "+this.tagList)}update(){this.addArticleForm.valid&&console.log("updated an existing article")}addTag(o){const i=(o.value||"").trim();i&&this.tagList.push(i),o.chipInput.clear()}removeTag(o){const i=this.tagList.indexOf(o);i>=0&&this.tagList.splice(i,1)}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(l.qu),t.Y36(C.n),t.Y36(A.yh),t.Y36(d.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-new-article"]],decls:2,vars:3,consts:[["class","container","fxLayout","column","fxLayoutAlign"," center",4,"ngIf"],["fxLayout","column","fxLayoutAlign"," center",1,"container"],["fxLayout","column","fxLayoutAlign"," stretch",1,"add-article",3,"formGroup"],["appearance","outline","hideRequiredMarker","true"],["matInput","","autocomplete","off","placeholder","Article Title","formControlName","title","autocomplete","off"],["matInput","","autocomplete","off","placeholder","Article Description","formControlName","description","autocomplete","off"],["matInput","","autocomplete","off","placeholder","Article body","formControlName","body","autocomplete","off"],["aria-label","Tags selection"],["chipList",""],[3,"removed",4,"ngFor","ngForOf"],["placeholder","New Tag","formControlName","tags","autocomplete","off",3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],["fxLayout","column","fxLayoutAlign"," end",1,"button"],["mat-raised-button","",3,"color","click",4,"ngIf"],[3,"removed"],["matChipRemove",""],["mat-raised-button","",3,"color","click"]],template:function(o,i){1&o&&(t.YNc(0,I,24,7,"div",0),t.ALo(1,"async")),2&o&&t.Q6J("ngIf",t.lcZ(1,1,i.loggedUser$))},directives:[c.O5,f.xw,f.Wh,l._Y,l.JL,l.sg,h.KE,h.hX,x.Nt,l.Fj,l.JJ,l.u,s.qn,c.sg,s.HS,s.qH,N.Hw,s.oH,T.lW],pipes:[c.Ov],styles:[".container[_ngcontent-%COMP%]{width:100%}.add-article[_ngcontent-%COMP%]{width:70%;min-width:350px}"]}),e})();const L=[{path:"",component:g},{path:":slug",component:g}];let F=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[d.Bz.forChild(L)],d.Bz]}),e})();var J=n(1453),_=n(4746);let M=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[c.ez,F,J.m,_.S]]}),e})()}}]);