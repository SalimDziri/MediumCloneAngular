"use strict";(self.webpackChunkmediumclone_angular=self.webpackChunkmediumclone_angular||[]).push([[875],{875:(Tt,y,r)=>{r.r(y),r.d(y,{ArticlesModule:()=>Ft});var u=r(9808),h=r(9291),g=r(991),l=r(6254),D=r(9841),_=r(4004),F=r(5698),t=r(5e3),A=r(5620),f=r(7093);function $(n,i){1&n&&(t.TgZ(0,"div",2)(1,"div",3)(2,"div",4),t._UZ(3,"div",5)(4,"div",5),t.qZA(),t.TgZ(5,"div",6),t._UZ(6,"div",7),t.TgZ(7,"div",4),t._UZ(8,"div",8)(9,"div",8),t.qZA()()()())}function P(n,i){1&n&&(t.TgZ(0,"div",9)(1,"div",3)(2,"div",10),t._UZ(3,"div",11)(4,"div",11)(5,"br")(6,"div",11)(7,"div",11)(8,"div",11)(9,"div",11)(10,"div",11)(11,"div",11)(12,"br")(13,"div",11)(14,"div",11)(15,"div",11)(16,"div",11)(17,"div",11)(18,"br")(19,"div",11)(20,"div",11)(21,"div",11)(22,"div",11),t.qZA(),t.TgZ(23,"div",6)(24,"div",12),t._UZ(25,"div",13)(26,"div",13),t.qZA()()()())}let U=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-loading-article-details"]],inputs:{content:"content"},decls:2,vars:2,consts:[["class","wrapper-title",4,"ngIf"],["class","wrapper",4,"ngIf"],[1,"wrapper-title"],["fxLayout","column",1,"wrapper-cell"],[1,"text","title-title"],[1,"text-line-title"],["fxLayout","row","fxLayoutAlign"," center",1,"wrapper-cell"],[1,"image"],[1,"text-line-header-title"],[1,"wrapper"],[1,"text","body"],[1,"text-line"],[1,"text","title"],[1,"text-line-header"]],template:function(e,o){1&e&&(t.YNc(0,$,10,0,"div",0),t.YNc(1,P,27,0,"div",1)),2&e&&(t.Q6J("ngIf","title"==o.content),t.xp6(1),t.Q6J("ngIf","body"==o.content))},directives:[u.O5,f.xw,f.Wh],styles:[".wrapper[_ngcontent-%COMP%]{background:#fff;width:100%;height:auto}.wrapper-title[_ngcontent-%COMP%]{background:#333333;width:80vw;min-width:350px;height:auto}.wrapper-cell[_ngcontent-%COMP%]{width:100%!important}@keyframes placeHolderShimmer{0%{background-position:-50vw 0}to{background-position:50vw 0}}.animated-background[_ngcontent-%COMP%], .text-line[_ngcontent-%COMP%], .text-line-header[_ngcontent-%COMP%]{animation-duration:1.5s;animation-fill-mode:forwards;animation-iteration-count:infinite;animation-name:placeHolderShimmer;animation-timing-function:linear;background:#F6F6F6;background:linear-gradient(to right,#F6F6F6 8%,#F0F0F0 18%,#F6F6F6 33%);background-size:100vw;height:96px;position:relative}.animated-background-title[_ngcontent-%COMP%], .text-line-title[_ngcontent-%COMP%], .text-line-header-title[_ngcontent-%COMP%], .image[_ngcontent-%COMP%]{animation-duration:1.5s;animation-fill-mode:forwards;animation-iteration-count:infinite;animation-name:placeHolderShimmer;animation-timing-function:linear;background:#b0b0b0;background:linear-gradient(to right,#b0b0b0 8%,#b0b0b0 18%,#F6F6F6 33%);background-size:100vw;height:96px;position:relative}.image[_ngcontent-%COMP%]{height:40px;width:40px}.text-line-header[_ngcontent-%COMP%]{height:1rem;width:20vw;margin:4px 0}.text-line[_ngcontent-%COMP%]{height:1rem;width:100%;margin:4px 0}.text-line-header-title[_ngcontent-%COMP%]{height:1rem;width:20vw;margin:4px 0}.text-line-title[_ngcontent-%COMP%]{height:1rem;width:100%;margin:4px 0}.title[_ngcontent-%COMP%], .body[_ngcontent-%COMP%], .image[_ngcontent-%COMP%]{margin:.5rem}"]}),n})();var w=r(5245),I=r(3322),T=r(773),J=r(4834),p=r(3075),k=r(7322),Q=r(7531),N=r(7423),M=r(4354),b=r(7496);function Y(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",11),t.NdJ("click",function(){t.CHM(e);const c=t.oxw(2);return c.addComment(c.commentForm.value.myComment)}),t._uU(1,"Comment"),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("color","accent")("disabled",e.commentForm.invalid)}}function S(n,i){1&n&&t._UZ(0,"mat-spinner",12),2&n&&t.Q6J("color","accent")("diameter",30)}function q(n,i){if(1&n&&(t.TgZ(0,"div",1)(1,"form",2)(2,"mat-form-field",3),t._UZ(3,"textarea",4),t.qZA(),t.TgZ(4,"div",5)(5,"div",6),t._UZ(6,"img",7),t.ALo(7,"async"),t.qZA(),t.TgZ(8,"div",8),t.YNc(9,Y,2,2,"button",9),t.ALo(10,"async"),t.YNc(11,S,1,2,"mat-spinner",10),t.ALo(12,"async"),t.qZA()()()()),2&n){const e=t.oxw();let o;t.xp6(1),t.Q6J("formGroup",e.commentForm),t.xp6(5),t.s9C("src",null==(o=t.lcZ(7,4,e.currentUser$))?null:o.image,t.LSH),t.xp6(3),t.Q6J("ngIf",!t.lcZ(10,6,e.loadingAddingComment$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(12,8,e.loadingAddingComment$))}}function H(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-icon",20),t.NdJ("click",function(){t.CHM(e);const c=t.oxw(3);return c.delete(null==c.commentData?null:c.commentData.id)}),t._uU(1,"delete_outline"),t.qZA()}}function G(n,i){1&n&&t._UZ(0,"mat-spinner",12),2&n&&t.Q6J("color","accent")("diameter",30)}function B(n,i){if(1&n&&(t.TgZ(0,"div",18),t.YNc(1,H,2,0,"mat-icon",19),t.ALo(2,"async"),t.YNc(3,G,1,2,"mat-spinner",10),t.ALo(4,"async"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!t.lcZ(2,2,e.loadingDeleteComment$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(4,4,e.loadingDeleteComment$))}}function z(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",1),t._UZ(1,"div",13),t.ALo(2,"lineBreaks"),t.TgZ(3,"div",5)(4,"div",14)(5,"img",15),t.NdJ("click",function(){t.CHM(e);const c=t.oxw();return c.goToAuthor(null==c.commentData||null==c.commentData.author?null:c.commentData.author.username)}),t.qZA(),t.TgZ(6,"span",16),t._uU(7),t.ALo(8,"timeAgo"),t.qZA()(),t.YNc(9,B,5,6,"div",17),t.ALo(10,"async"),t.qZA()()}if(2&n){const e=t.oxw();let o;t.xp6(1),t.Q6J("innerHTML",t.lcZ(2,4,null==e.commentData?null:e.commentData.body),t.oJD),t.xp6(4),t.s9C("src",null==e.commentData||null==e.commentData.author?null:e.commentData.author.image,t.LSH),t.xp6(2),t.Oqu(t.lcZ(8,6,null==e.commentData?null:e.commentData.createdAt)),t.xp6(2),t.Q6J("ngIf",(null==(o=t.lcZ(10,8,e.currentUser$))?null:o.username)==(null==e.commentData||null==e.commentData.author?null:e.commentData.author.username))}}let E=(()=>{class n{constructor(e,o,c){this.formBuilder=e,this.store=o,this.router=c,this.currentUser$=this.store.select(g.rk),this.loadingDeleteComment$=this.store.select(g.gP),this.loadingAddingComment$=this.store.select(g.QA)}ngOnInit(){this.initForm()}initForm(){this.commentCtrl=this.formBuilder.control("",p.kI.required),this.commentForm=this.formBuilder.group({myComment:this.commentCtrl})}goToAuthor(e){this.router.navigateByUrl(`profile/${e}`)}delete(e){this.store.dispatch(l.u.deleteComments(this.slug,e))}addComment(e){this.store.dispatch(l.u.addComment(this.slug,{comment:{body:e}})),this.commentCtrl.reset()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.qu),t.Y36(A.yh),t.Y36(h.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-comment"]],inputs:{content:"content",commentData:"commentData",slug:"slug"},decls:2,vars:2,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"commentForm",3,"formGroup"],["appearance","outline","hideRequiredMarker","true",1,"input_field"],["matInput","","autocomplete","off","placeholder","add a comment","formControlName","myComment"],["fxLayout","row",1,"form-footer"],["fxFlex","70%","fxLayoutAlign","start",1,"user"],["alt","",3,"src"],["fxFlex","30%","fxlayoutAlign","end",1,"cmnt-btn"],["mat-raised-button","",3,"color","disabled","click",4,"ngIf"],[3,"color","diameter",4,"ngIf"],["mat-raised-button","",3,"color","disabled","click"],[3,"color","diameter"],[1,"body",3,"innerHTML"],["fxFlex","90%","fxLayoutAlign","start center",1,"user"],["alt","no alt for you :p",1,"comment-author",3,"src","click"],[1,"commented-at"],["class","delete-btn","fxFlex","10%","fxLayout","row",4,"ngIf"],["fxFlex","10%","fxLayout","row",1,"delete-btn"],[3,"click",4,"ngIf"],[3,"click"]],template:function(e,o){1&e&&(t.YNc(0,q,13,10,"div",0),t.YNc(1,z,11,10,"div",0)),2&e&&(t.Q6J("ngIf","form"==o.content),t.xp6(1),t.Q6J("ngIf","list"==o.content))},directives:[u.O5,p._Y,p.JL,p.sg,k.KE,Q.Nt,p.Fj,p.JJ,p.u,f.xw,f.yH,f.Wh,N.lW,T.Ou,w.Hw],pipes:[u.Ov,M.R,b.e],styles:[".container[_ngcontent-%COMP%]{margin-bottom:1rem}.commentForm[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%], .body[_ngcontent-%COMP%]{width:50vw;max-width:700px;min-width:300px}img[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%}.body[_ngcontent-%COMP%]{margin:.5rem 0}.commented-at[_ngcontent-%COMP%]{margin:0 .4rem}.comment-author[_ngcontent-%COMP%]:hover{outline:solid .2rem #5cb85c;cursor:pointer}.delete-btn[_ngcontent-%COMP%]:hover{cursor:pointer;color:red}.cmnt-btn[_ngcontent-%COMP%], .delete-btn[_ngcontent-%COMP%]{place-content:stretch flex-end;align-items:stretch;flex-direction:row;display:flex}"]}),n})();function W(n,i){1&n&&t._UZ(0,"app-loading-article-details",6),2&n&&t.Q6J("content","title")}function j(n,i){if(1&n&&(t.TgZ(0,"div",24)(1,"div",25),t._UZ(2,"img",26),t.TgZ(3,"h3"),t._uU(4),t.qZA()(),t.TgZ(5,"button"),t._uU(6,"Follow"),t.qZA()()),2&n){const e=i.username,o=i.image;t.xp6(2),t.Q6J("src",o,t.LSH),t.xp6(2),t.Oqu(e)}}function R(n,i){1&n&&(t.TgZ(0,"div",27)(1,"mat-icon"),t._uU(2,"settings"),t.qZA(),t._uU(3," Edit Profile "),t.qZA())}function K(n,i){1&n&&t._UZ(0,"mat-spinner",30),2&n&&t.Q6J("diameter",25)}function X(n,i){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"add"),t.qZA())}const O=function(n,i){return{clickable:n,"non-clickable":i}};function V(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",28),t.NdJ("click",function(){t.CHM(e);const c=t.oxw().ngIf;return t.oxw(2).toggleFollow(c.author.username,c.author.following)}),t.ALo(1,"async"),t.ALo(2,"async"),t.YNc(3,K,1,1,"mat-spinner",29),t.ALo(4,"async"),t.YNc(5,X,2,0,"mat-icon",5),t.ALo(6,"async"),t._uU(7),t.qZA()}if(2&n){const e=t.oxw().ngIf,o=t.oxw(2);t.Q6J("ngClass",t.WLB(12,O,0==t.lcZ(1,4,o.isLoadingFollow$),1==t.lcZ(2,6,o.isLoadingFollow$))),t.xp6(3),t.Q6J("ngIf",t.lcZ(4,8,o.isLoadingFollow$)),t.xp6(2),t.Q6J("ngIf",!t.lcZ(6,10,o.isLoadingFollow$)),t.xp6(2),t.hij("\xa0Follow ",e.author.username," ")}}function tt(n,i){1&n&&t._UZ(0,"mat-spinner",30),2&n&&t.Q6J("diameter",25)}function nt(n,i){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"add"),t.qZA())}function et(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",31),t.NdJ("click",function(){t.CHM(e);const c=t.oxw().ngIf;return t.oxw(2).toggleFollow(c.author.username,c.author.following)}),t.ALo(1,"async"),t.ALo(2,"async"),t.YNc(3,tt,1,1,"mat-spinner",29),t.ALo(4,"async"),t.YNc(5,nt,2,0,"mat-icon",5),t.ALo(6,"async"),t._uU(7),t.qZA()}if(2&n){const e=t.oxw().ngIf,o=t.oxw(2);t.Q6J("ngClass",t.WLB(12,O,0==t.lcZ(1,4,o.isLoadingFollow$),1==t.lcZ(2,6,o.isLoadingFollow$))),t.xp6(3),t.Q6J("ngIf",t.lcZ(4,8,o.isLoadingFollow$)),t.xp6(2),t.Q6J("ngIf",!t.lcZ(6,10,o.isLoadingFollow$)),t.xp6(2),t.hij("\xa0UnFollow ",e.author.username," ")}}function ot(n,i){1&n&&t._UZ(0,"mat-spinner",30),2&n&&t.Q6J("diameter",25)}function it(n,i){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"favorite_border"),t.qZA())}function ct(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",32),t.NdJ("click",function(){t.CHM(e);const c=t.oxw().ngIf;return t.oxw(2).toggleFavorite(c.slug,c.favorited)}),t.ALo(1,"async"),t.ALo(2,"async"),t.YNc(3,ot,1,1,"mat-spinner",29),t.ALo(4,"async"),t.YNc(5,it,2,0,"mat-icon",5),t.ALo(6,"async"),t._uU(7),t.qZA()}if(2&n){const e=t.oxw().ngIf,o=t.oxw(2);t.ekj("non-clickable",t.lcZ(1,7,o.isLoadingFavorite$))("clickable",!t.lcZ(2,9,o.isLoadingFavorite$)),t.xp6(3),t.Q6J("ngIf",t.lcZ(4,11,o.isLoadingFavorite$)),t.xp6(2),t.Q6J("ngIf",!t.lcZ(6,13,o.isLoadingFavorite$)),t.xp6(2),t.hij("\xa0Favorite article (",e.favoritesCount,") ")}}function rt(n,i){1&n&&t._UZ(0,"mat-spinner",30),2&n&&t.Q6J("diameter",25)}function lt(n,i){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"favorite"),t.qZA())}function at(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",33),t.NdJ("click",function(){t.CHM(e);const c=t.oxw().ngIf;return t.oxw(2).toggleFavorite(c.slug,c.favorited)}),t.ALo(1,"async"),t.ALo(2,"async"),t.YNc(3,rt,1,1,"mat-spinner",29),t.ALo(4,"async"),t.YNc(5,lt,2,0,"mat-icon",5),t.ALo(6,"async"),t._uU(7),t.qZA()}if(2&n){const e=t.oxw().ngIf,o=t.oxw(2);t.ekj("non-clickable",t.lcZ(1,7,o.isLoadingFavorite$))("clickable",!t.lcZ(2,9,o.isLoadingFavorite$)),t.xp6(3),t.Q6J("ngIf",t.lcZ(4,11,o.isLoadingFavorite$)),t.xp6(2),t.Q6J("ngIf",!t.lcZ(6,13,o.isLoadingFavorite$)),t.xp6(2),t.hij("\xa0UnFavorite article (",e.favoritesCount,") ")}}function st(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"h1",8),t._uU(2),t.qZA(),t.TgZ(3,"div",9)(4,"div",10)(5,"div",11)(6,"img",12),t.NdJ("click",function(){const d=t.CHM(e).ngIf;return t.oxw(2).goToProfile(d.author.username)}),t.qZA()(),t.TgZ(7,"div",13)(8,"div",14),t.NdJ("click",function(){const d=t.CHM(e).ngIf;return t.oxw(2).goToProfile(d.author.username)}),t._uU(9),t.qZA(),t.TgZ(10,"div",15),t._uU(11),t.ALo(12,"timeAgo"),t.qZA()(),t.YNc(13,j,7,2,"ng-template",null,16,t.W1O),t.qZA(),t.TgZ(15,"div",17),t.YNc(16,R,4,0,"div",18),t.ALo(17,"async"),t.YNc(18,V,8,15,"div",19),t.ALo(19,"async"),t.YNc(20,et,8,15,"div",20),t.ALo(21,"async"),t.qZA(),t.TgZ(22,"div",21),t.YNc(23,ct,8,15,"div",22),t.YNc(24,at,8,15,"div",23),t.qZA()(),t.BQk()}if(2&n){const e=i.ngIf,o=t.oxw(2);t.xp6(2),t.Oqu(e.title),t.xp6(4),t.s9C("src",e.author.image,t.LSH),t.MGl("alt","",e.author.username," profile picture"),t.xp6(3),t.Oqu(e.author.username),t.xp6(2),t.Oqu(t.lcZ(12,10,e.createdAt)),t.xp6(5),t.Q6J("ngIf",1==t.lcZ(17,12,o.combinedData$)),t.xp6(2),t.Q6J("ngIf",!e.author.following&&0==t.lcZ(19,14,o.combinedData$)),t.xp6(2),t.Q6J("ngIf",e.author.following&&0==t.lcZ(21,16,o.combinedData$)),t.xp6(3),t.Q6J("ngIf",!e.favorited),t.xp6(1),t.Q6J("ngIf",e.favorited)}}function mt(n,i){if(1&n&&(t.TgZ(0,"div",7),t.YNc(1,st,25,18,"ng-container",5),t.ALo(2,"async"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,e.articleDetails$))}}function dt(n,i){1&n&&t._UZ(0,"app-loading-article-details",6),2&n&&t.Q6J("content","body")}function gt(n,i){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e)}}function ut(n,i){if(1&n&&(t.ynx(0),t._UZ(1,"div",35),t.ALo(2,"lineBreaks"),t.TgZ(3,"div",36),t.YNc(4,gt,2,1,"div",37),t.qZA(),t.BQk()),2&n){const e=i.ngIf;t.xp6(1),t.Q6J("innerHTML",t.lcZ(2,2,e.body),t.oJD),t.xp6(3),t.Q6J("ngForOf",e.tagList)}}function _t(n,i){if(1&n&&(t.TgZ(0,"div",34),t.YNc(1,ut,5,4,"ng-container",5),t.ALo(2,"async"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,e.articleDetails$))}}function ft(n,i){if(1&n&&(t.TgZ(0,"div",41),t._UZ(1,"app-comment",42),t.qZA()),2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("content","list")("commentData",e)("slug",o.getCurrentSlug())}}function pt(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",38),t._UZ(2,"app-comment",39),t.qZA(),t.YNc(3,ft,2,3,"div",40),t.ALo(4,"async"),t.BQk()),2&n){const e=t.oxw();let o,c;t.xp6(2),t.Q6J("content","form")("slug",e.getCurrentSlug()),t.xp6(1),t.Q6J("ngForOf",null==(o=t.lcZ(4,3,e.commentsList$))||null==(c=o.slice())?null:c.reverse())}}const vt=[{path:":slug",component:(()=>{class n{constructor(e,o){this.store=e,this.router=o,this.CurrentLoggedUser$=this.store.select(g.rk),this.userLoaded$=this.store.select(g.j5),this.currentNavigation=this.router.getCurrentNavigation(),this.$isLoadingArticle$=this.store.select(g.qx),this.articleDetails$=this.store.select(g.GS),this.commentsList$=this.store.select(g.d5),this.isLoadingFollow$=this.store.select(g.Gm),this.isLoadingFavorite$=this.store.select(g.eW),this.combinedData$=(0,D.a)([this.articleDetails$,this.CurrentLoggedUser$]).pipe((0,_.U)(([c,d])=>(null==c?void 0:c.author.username)===(null==d?void 0:d.username)))}ngOnInit(){let e=this.getCurrentSlug();this.userLoaded$.subscribe(o=>{1==o&&this.store.dispatch(l.u.loadArticleDetails(e))})}getCurrentSlug(){let e=this.currentNavigation.finalUrl.toString().slice(10);return decodeURIComponent(e)}toggleFollow(e,o){this.isLoadingFollow$.pipe((0,F.q)(1)).subscribe(c=>{0==c&&this.store.dispatch(o?l.u.UnFollow(e):l.u.Follow(e))})}toggleFavorite(e,o){this.isLoadingFavorite$.pipe((0,F.q)(1)).subscribe(c=>{0==c&&this.store.dispatch(o?l.u.unfavorite(e):l.u.favorite(e))})}goToProfile(e){this.router.navigateByUrl(`profile/${e}`)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(A.yh),t.Y36(h.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-article-details"]],decls:16,vars:17,consts:[["fxLayout","column",1,"container"],["fxLayout","column","fxLayoutAlign"," center",1,"top-bar"],[3,"content",4,"ngIf"],["class","article-header","fxFlex","70%",4,"ngIf"],["class","body","fxLayout","column","fxLayoutAlign"," center",4,"ngIf"],[4,"ngIf"],[3,"content"],["fxFlex","70%",1,"article-header"],[1,"title"],["fxLayout","row-wrap","fxLayout.lt-sm","column",1,"author"],["fxLayout","row",1,"author-details"],[1,"pic"],[3,"src","alt","click"],["fxLayout","column"],[1,"name",3,"click"],[1,"date"],["tooltipTemplate",""],["fxLayoutAlign"," center",1,"following-settings"],["class","my-account",4,"ngIf"],["class","follow","fxLayoutAlign"," center",3,"ngClass","click",4,"ngIf"],["class","unfollow","fxLayoutAlign"," center",3,"ngClass","click",4,"ngIf"],["fxLayoutAlign"," center",1,"favorite-settings"],["class","favorite","fxLayoutAlign"," center",3,"non-clickable","clickable","click",4,"ngIf"],["class","unfavorite","fxLayoutAlign"," center",3,"non-clickable","clickable","click",4,"ngIf"],[1,"tooltip-content"],[1,"tooltip-header"],["alt","Author Profile Picture",3,"src"],[1,"my-account"],["fxLayoutAlign"," center",1,"follow",3,"ngClass","click"],[3,"diameter",4,"ngIf"],[3,"diameter"],["fxLayoutAlign"," center",1,"unfollow",3,"ngClass","click"],["fxLayoutAlign"," center",1,"favorite",3,"click"],["fxLayoutAlign"," center",1,"unfavorite",3,"click"],["fxLayout","column","fxLayoutAlign"," center",1,"body"],[1,"body-content",3,"innerHTML"],["fxLayout","row","fxLayoutAlign","start",1,"tags"],[4,"ngFor","ngForOf"],["fxLayout","column","fxLayoutAlign"," center",1,"add-comment"],[3,"content","slug"],["class","comments-list","fxLayout","column","fxLayoutAlign"," center",4,"ngFor","ngForOf"],["fxLayout","column","fxLayoutAlign"," center",1,"comments-list"],[3,"content","commentData","slug"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,W,1,1,"app-loading-article-details",2),t.ALo(3,"async"),t.YNc(4,mt,3,3,"div",3),t.ALo(5,"async"),t.qZA(),t.YNc(6,dt,1,1,"app-loading-article-details",2),t.ALo(7,"async"),t.YNc(8,_t,3,3,"div",4),t.ALo(9,"async"),t._UZ(10,"br")(11,"mat-divider")(12,"br"),t.YNc(13,pt,5,5,"ng-container",5),t.ALo(14,"async"),t.ALo(15,"async"),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngIf",t.lcZ(3,5,o.$isLoadingArticle$)),t.xp6(2),t.Q6J("ngIf",!t.lcZ(5,7,o.$isLoadingArticle$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(7,9,o.$isLoadingArticle$)),t.xp6(2),t.Q6J("ngIf",!t.lcZ(9,11,o.$isLoadingArticle$)),t.xp6(5),t.Q6J("ngIf",!t.lcZ(14,13,o.$isLoadingArticle$)&&t.lcZ(15,15,o.CurrentLoggedUser$)))},directives:[f.xw,f.Wh,u.O5,U,f.yH,w.Hw,u.mk,I.oO,T.Ou,u.sg,J.d,E],pipes:[u.Ov,b.e,M.R],styles:['.top-bar[_ngcontent-%COMP%]{background:#333333;padding:1rem;min-height:10rem;color:#fff}.pic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;margin-right:.5rem;width:2rem;height:2rem}.pic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{outline:solid .2rem #5cb85c;cursor:pointer}.name[_ngcontent-%COMP%]:hover{text-decoration:underline;cursor:pointer;color:#5cb85c}.favorite-settings[_ngcontent-%COMP%], .following-settings[_ngcontent-%COMP%]{padding:.5rem}.follow[_ngcontent-%COMP%], .unfollow[_ngcontent-%COMP%], .favorite[_ngcontent-%COMP%], .unfavorite[_ngcontent-%COMP%]{opacity:.8}.follow[_ngcontent-%COMP%], .unfollow[_ngcontent-%COMP%]{color:#333;outline:solid .2rem #d6d6d6;border-radius:1rem;padding:0 .3rem}.follow[_ngcontent-%COMP%]{background-color:#bbb}.unfollow[_ngcontent-%COMP%]{background-color:#d6d6d6}.favorite[_ngcontent-%COMP%], .unfavorite[_ngcontent-%COMP%]{outline:solid .2rem #5cb85c;border-radius:1rem;padding:0 .3rem}.favorite[_ngcontent-%COMP%]{background-color:#333;color:#5cb85c}.unfavorite[_ngcontent-%COMP%]{background-color:#5cb85c;color:#fff}.favorite-settings[_ngcontent-%COMP%]   .clickable[_ngcontent-%COMP%]:hover, .following-settings[_ngcontent-%COMP%]   .clickable[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:1}.favorite-settings[_ngcontent-%COMP%]   .non-clickable[_ngcontent-%COMP%]:hover, .following-settings[_ngcontent-%COMP%]   .non-clickable[_ngcontent-%COMP%]:hover{cursor:not-allowed;opacity:1}.body[_ngcontent-%COMP%]{width:100%;min-width:350px;padding-top:1rem}.body-content[_ngcontent-%COMP%]{font-size:20px;font-family:"Source Serif Pro",serif}.tags[_ngcontent-%COMP%]{padding-top:1rem}.tags[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:0 1rem;color:#bbb;font-size:17px;border:solid .1rem #d6d6d6;border-radius:2rem;padding:0 .3rem}']}),n})()}];let xt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[h.Bz.forChild(vt)],h.Bz]}),n})();var ht=r(1453),m=r(506),Z=r(6129),v=r(262),x=r(9646),C=r(5577),Ct=r(7251),At=r(1528),Zt=r(6893),Lt=r(1271);let yt=(()=>{class n{constructor(e,o,c,d,L,wt){this.action$=e,this.articleService=o,this.homeService=c,this.profileService=d,this.snackbar=L,this.store=wt,this.getArticleDetaildEffect=(0,m.GW)(()=>this.action$.pipe((0,m.l4)(l.u.loadArticleDetails),(0,Z.z)(s=>this.articleService.getArticle(s.slug).pipe((0,_.U)(a=>l.i.loadArticleDetailsSuccess(a)),(0,v.K)(a=>(0,x.of)(l.i.loadArticleDetailsFailure(a))))))),this.addToFavorite$=(0,m.GW)(()=>this.action$.pipe((0,m.l4)(l.u.favorite),(0,C.z)(s=>this.homeService.addToFavorite(s.slug).pipe((0,_.U)(a=>l.i.favoriteSuccess(a)),(0,v.K)(a=>(0,x.of)(l.i.favoriteFailure(a))))))),this.removeFromFavorite$=(0,m.GW)(()=>this.action$.pipe((0,m.l4)(l.u.unfavorite),(0,C.z)(s=>this.homeService.removeFromFavorite(s.slug).pipe((0,_.U)(a=>l.i.unfavoriteSuccess(a)),(0,v.K)(a=>(0,x.of)(l.i.unfavoriteFailure(a))))))),this.followUser$=(0,m.GW)(()=>this.action$.pipe((0,m.l4)(l.u.Follow),(0,C.z)(s=>this.profileService.followUser(s.username).pipe((0,_.U)(a=>l.i.FollowSuccess(a)),(0,v.K)(a=>(0,x.of)(l.i.FollowFailure(a))))))),this.unfollowUser$=(0,m.GW)(()=>this.action$.pipe((0,m.l4)(l.u.UnFollow),(0,C.z)(s=>this.profileService.unfollowUser(s.username).pipe((0,_.U)(a=>l.i.unFollowSuccess(a)),(0,v.K)(a=>(0,x.of)(l.i.unFollowFailure(a))))))),this.deleteComment$=(0,m.GW)(()=>this.action$.pipe((0,m.l4)(l.u.deleteComments),(0,Z.z)(s=>this.articleService.delteComment(s.slug,s.id).pipe((0,_.U)(()=>l.i.deleteCommentsSuccess(s.id)),(0,v.K)(a=>(0,x.of)(l.i.deleteCommentsFailure(a))))))),this.addComment$=(0,m.GW)(()=>this.action$.pipe((0,m.l4)(l.u.addComment),(0,Z.z)(s=>(console.log("requested comment ="+s.commentRequest),this.articleService.createComment(s.slug,s.commentRequest).pipe((0,_.U)(a=>l.i.addCommentSuccess(a.comment)),(0,v.K)(a=>(0,x.of)(l.i.addCommentFailure(a))))))))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(m.eX),t.LFG(Ct.n),t.LFG(At.Y),t.LFG(Zt.H),t.LFG(Lt.ux),t.LFG(A.yh))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),Ft=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[u.ez,xt,ht.m,m.sQ.forFeature([yt])]]}),n})()}}]);